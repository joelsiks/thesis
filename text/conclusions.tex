
This project has explored multiple possible adaptations that can be made to the TLSF memory allocator to improve either performance or memory efficiency in the context of using it in ZGC, a garbage collector part of the OpenJDK. To do this, a reference version of TLSF has been implemented, from which a configurable version has been derived. Using the configurable version, an optimized implementation is explored with a set of possible adaptations aimed at tailoring the allocator for ZGC.

Understanding the way the allocator is used and also the environment in which it is used opens up possibilities to either omit, alter or certain functionality. A garbage collector, like ZGC, already store and keep track of metadata regarding objects that it allocate, allowing the allocator to ignore parts that overlap with this information. Regarding both distribution and frequency of allocation sizes, internal representations of the allocator can be made more efficient in terms of both performance and memory usage.

Adding support for concurrent operations on the allocator was made significantly easier by being able to simplify the representation and operations on the free-lists. The optimized allocator now supports concurrent calls to \texttt{malloc()} and \texttt{free()} by operating on the free-lists concurrently using a lock-free mechanism.

More in-depth evaluation is required to fully understand how the allocator behaves when used in ZGC. In isolation, the allocator performs on par with the reference implementation when performing single allocations, but is slower when performing single frees. Applying allocation patterns from a set of real-world programs, the optimized version of the allocator seems to perform relatively better when the total number of operations is higher, but worse for fewer operations, when compared to the reference version. As a result of the 0-byte header for allocated blocks in the optimized version, the worst-case internal fragmentation is significantly smaller compared to the reference version, and is completely removed when no padding is applied. In summary, the results show promise for future integration into ZGC, which is the natural next step of the work done in this project. Integration will also provide a more conclusive environment to evaluate and fully understand the impact of the adaptations that have been made.

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:
